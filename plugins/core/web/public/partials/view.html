<div ng-controller="viewController" id="viewController">

<h1><i class="glyphicon glyphicon-lock" ng-if="bell.Locked"></i> Details for {{ bell.Name }}</h1>
<p>
  <a href="" ng-click="trigger(bell.ID)" class="btn btn-primary">Trigger</a>
  <a ng-click="deleteBell(bell.ID)" ng-href="#" class="btn btn-danger pull-right" ng-if="!bell.Locked">Delete</a>
  <a href="#" class="btn btn-primary" ng-click="toggleBell(bell, !bell.Enabled)" ng-if="!bell.Enabled">Enable</a>
  <a href="#" class="btn btn-primary" ng-click="toggleBell(bell, !bell.Enabled)" ng-if="bell.Enabled">Disable</a>
</p>

<table border="1" cellpadding="10" cellspacing="0" class="list table table-bordered table-hover">
  <tr>
    <th>Name</th>
    <th>Value</th>
  </tr>
  <tr>
    <td>Bell ID</td>
    <td ng-bind="bell.ID"></td>
  </tr>
  <tr>
    <td>Bell Name</td>
    <td ng-bind="bell.Name"></td>
  </tr>
  <tr>
    <td>Bell Description</td>
    <td ng-bind="bell.Description"></td>
  </tr>
  <tr>
    <td>Bell Time (cron)</td>
    <td ng-bind="bell.Time"></td>
  </tr>
  <tr>
    <td>Bell Time (calculated)</td>
    <td ng-bind="(nextBell | filter: { id: bell.ID })[0].date | date:'medium'"></td>
  </tr>
  <tr>
    <td>Enabled</td>
    <td ng-bind="bell.Enabled"></td>
  </tr>
  <tr>
    <td>Bell Locked</td>
    <td ng-bind="bell.Locked"></td>
  </tr>
  <tr>
    <td>Bell Actions</td>
    <td>
      <ul ng-repeat="(key, value) in bell.Actions">
        <li ng-bind="key"></li>
          <ul>
            <li ng-repeat="(key1, value1) in value">{{ key1 + ": " + value1 }}</li>
          </ul>
      </ul>
    </td>
  </tr>


</table>
<a href="/#/bells">Go back</a>
</div>
